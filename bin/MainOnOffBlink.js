// Generated by Haxe 3.4.7
if (process.version < "v4.0.0") console.warn("Module " + (typeof(module) == "undefined" ? "" : module.filename) + " requires node.js version 4.0.0 or higher");
(function () { "use strict";
var MainOnOffBlink = function() {
	console.log("start MainOnOffBlink");
	this.led = new Gpio(4,"out");
	this.blinkInterval = setInterval($bind(this,this.blinkLED),250);
	setTimeout($bind(this,this.endBlink),5000);
};
MainOnOffBlink.main = function() {
	var app = new MainOnOffBlink();
};
MainOnOffBlink.prototype = {
	blinkLED: function() {
		if(this.led.readSync() == 0) {
			console.log("turn LED on");
			this.led.writeSync(1);
		} else {
			console.log("turn LED off");
			this.led.writeSync(0);
		}
	}
	,endBlink: function() {
		console.log("end blink");
		clearInterval(this.blinkInterval);
		this.led.writeSync(0);
		this.led.unexport();
	}
};
var Gpio = require("onoff").Gpio;
var $_, $fid = 0;
function $bind(o,m) { if( m == null ) return null; if( m.__id__ == null ) m.__id__ = $fid++; var f; if( o.hx__closures__ == null ) o.hx__closures__ = {}; else f = o.hx__closures__[m.__id__]; if( f == null ) { f = function(){ return f.method.apply(f.scope, arguments); }; f.scope = o; f.method = m; o.hx__closures__[m.__id__] = f; } return f; }
MainOnOffBlink.main();
})();

// Generated by Haxe 4.0.2
(function ($global) { "use strict";
var MainOnOffPushbutton = function() {
	var _gthis = this;
	console.log("test/MainOnOffPushbutton.hx:25:","start MainOnOffPushbutton.hx");
	this.led = new Gpio(4,"out");
	this.pushButton = new Gpio(17,"in","both");
	this.pushButton.watch(function(err,value) {
		if(err != null) {
			window.console.error("There was an error",err);
			return;
		}
		_gthis.led.writeSync(value);
	});
	process.on("SIGINT",$bind(this,this.unexportOnClose));
};
MainOnOffPushbutton.main = function() {
	var app = new MainOnOffPushbutton();
};
MainOnOffPushbutton.prototype = {
	unexportOnClose: function() {
		this.led.writeSync(0);
		this.led.unexport();
		this.pushButton.unexport();
	}
};
var Gpio = require("onoff").Gpio;
var $_;
function $bind(o,m) { if( m == null ) return null; if( m.__id__ == null ) m.__id__ = $global.$haxeUID++; var f; if( o.hx__closures__ == null ) o.hx__closures__ = {}; else f = o.hx__closures__[m.__id__]; if( f == null ) { f = m.bind(o); o.hx__closures__[m.__id__] = f; } return f; }
$global.$haxeUID |= 0;
MainOnOffPushbutton.main();
})(typeof window != "undefined" ? window : typeof global != "undefined" ? global : typeof self != "undefined" ? self : this);

// Generated by Haxe 3.4.4
(function () { "use strict";
var MainAirtable = function() {
	this.AIRTABLE_NAME = "Table1";
	this.AIRTABLE_KEY = "foobar";
	this.AIRTABLE_API_KEY = "YOUR_API_KEY";
	this.init0();
	this.init1();
	this.init2();
};
MainAirtable.main = function() {
	var app = new MainAirtable();
};
MainAirtable.prototype = {
	init0: function() {
		Airtable.configure({ endpointUrl : "https://api.airtable.com", apiKey : this.AIRTABLE_API_KEY});
		var base = Airtable.base(this.AIRTABLE_KEY);
	}
	,init1: function() {
		var base = new Airtable({ apiKey : this.AIRTABLE_API_KEY}).base(this.AIRTABLE_KEY);
		var page = function(records,fetchNextPage) {
			window.console.log(records);
			var _g = 0;
			while(_g < records.length) {
				var record = records[_g];
				++_g;
				window.console.log("Retrieved",record.get("Name"));
			}
			fetchNextPage();
		};
		var done = function(err) {
			if(err != null) {
				window.console.error(err);
				return;
			}
		};
		base(this.AIRTABLE_NAME).select({ maxRecords : 3, view : "Grid view"}).eachPage(page,done);
	}
	,init2: function() {
		var base = new Airtable({ apiKey : this.AIRTABLE_API_KEY}).base(this.AIRTABLE_KEY);
		base(this.AIRTABLE_NAME).create({ "Name" : "Matthijs", "Notes" : "test"},function(err,record) {
			if(err != null) {
				window.console.error(err);
				return;
			}
			window.console.log(record.getId());
		});
	}
};
var Airtable = require("airtable");
MainAirtable.main();
})();

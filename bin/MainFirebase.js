// Generated by Haxe 3.4.7
(function () { "use strict";
var MainFirebase = function() {
	this.imageUrl = "https://www.fake.nl/profile.png";
	this.email = "fake@morefake.nl";
	this.name = "MatthijsKamstra";
	this.postId = "bar";
	this.userId = "foo";
	this.init0();
	this.init1();
	this.init2();
	this.init3();
	this.init4();
	this.init7();
};
MainFirebase.main = function() {
	var main = new MainFirebase();
};
MainFirebase.prototype = {
	init0: function() {
		var config = { apiKey : "api-key", authDomain : "domain.firebaseapp.com", databaseURL : "https://databaseurl.firebaseio.com", storageBucket : "bucket-id.appspot.com", messagingSenderId : "messaging-sender-id"};
		this.firebase = firebase.initializeApp(config);
	}
	,init1: function() {
		this.firebase.database().ref("test").set("wow").then(function(e) {
			console.log("Set value!");
		});
	}
	,init2: function() {
		var database = firebase.database();
		this.firebase.database().ref("users/" + this.userId).set({ username : this.name, email : this.email, profile_picture : this.imageUrl});
	}
	,init3: function() {
		var starCountRef = this.firebase.database().ref("posts/" + this.postId + "/starCount");
		starCountRef.on("value",function(snapshot) {
			console.log("updateStarCount(postElement, snapshot.val())");
		});
		starCountRef.on("child_moved",function(snapshot1) {
			console.log("test EventType.ChildMoved");
		});
	}
	,init4: function() {
		var userId = this.firebase.auth().currentUser.uid;
		return this.firebase.database().ref("/users/" + userId).once(null,null,"value").then(function(snapshot) {
		});
	}
	,init7: function() {
		this.firebase.database().ref("users/" + this.userId).set({ username : this.name, email : this.email, profile_picture : this.imageUrl},function(error) {
			if(error != null) {
				console.log("The write failed...");
			} else {
				console.log("Data saved successfully!");
			}
		});
	}
};
var firebase = require("firebase");
MainFirebase.main();
})();
